---
id: "0001"
title: "Phase II Specification - Multiuser Todo Web Application"
stage: "spec"
date: "2026-01-25"
surface: "agent"
model: "gemini-1.5-flash-latest"
feature: "1-multiuser-todo-app"
branch: "1-multiuser-todo-app"
user: "user"
command: "PHASE II SPECIFICATION - FULL-STACK TODO WEB APPLICATION PROJECT GOAL Transform Phase I console app into a multi-user web application with authentication, persistent storage, and responsive UI. USER ROLES 1. Unauthenticated User - Can signup and login 2. Authenticated User - Can manage personal tasks FUNCTIONAL REQUIREMENTS FR-1: USER AUTHENTICATION FR-1.1 User Signup User Story: As a new user, I can create an account to start managing my tasks. Acceptance Criteria: - Signup form with name, email, password fields - Email must be unique - Password minimum 8 characters - Success: Account created, user auto-logged in - Failure: Show validation errors FR-1.2 User Login User Story: As a returning user, I can login to access my tasks. Acceptance Criteria: - Login form with email and password - Success: JWT token issued, redirect to dashboard - Failure: Show "Invalid credentials" error - Token stored in React state (NOT localStorage) FR-1.3 User Logout User Story: As a logged-in user, I can logout to end my session. Acceptance Criteria: - Logout button visible on all pages - Click logout: token cleared, redirect to homepage - Cannot access protected pages after logout FR-2: TASK MANAGEMENT FR-2.1 Create Task User Story: As a user, I can create tasks to track things I need to do. Acceptance Criteria: - "Add Task" button/form on dashboard - Enter title (required, 1-200 chars) - Enter description (optional, max 1000 chars) - Click "Create": task appears in list - Task saved to database with user_id - Success message shown - Form clears after creation Validation: - Empty title shows error - Title > 200 chars shows error FR-2.2 View Tasks User Story: As a user, I can view all my tasks. Acceptance Criteria: - Dashboard shows all user's tasks - Display: title, description, status, date - Sorted by creation date (newest first) - Empty state: "No tasks yet. Create your first task!" - Only logged-in user's tasks visible FR-2.3 Update Task User Story: As a user, I can edit tasks to update details. Acceptance Criteria: - Click "Edit" on task - Form pre-filled with current data - Modify title and/or description - Click "Save": updates immediately - Updated in database - Success message shown FR-2.4 Delete Task User Story: As a user, I can delete tasks I no longer need. Acceptance Criteria: - Click "Delete" on task - Confirmation: "Are you sure?" - Confirm: task removed from list - Deleted from database - Success message shown FR-2.5 Mark Complete/Incomplete User Story: As a user, I can mark tasks done to track progress. Acceptance Criteria: - Checkbox/toggle on each task - Click: status toggles immediately - Visual change (strikethrough for completed) - Saved to database - No confirmation needed FR-3: DATA ISOLATION FR-3.1 User Privacy - User A cannot see User B's tasks - User A cannot modify User B's tasks - API returns 403 if unauthorized access - All queries filtered by user_id from token FR-3.2 Authentication Required - All task endpoints require valid JWT - Expired token returns 401 - User redirected to login on 401 NON-FUNCTIONAL REQUIREMENTS NFR-1: Performance - API response < 500ms - Frontend load < 3 seconds - No UI freezing NFR-2: Security - Passwords hashed - JWT expires in 7 days - HTTPS in production - No SQL injection - No XSS vulnerabilities NFR-3: Usability - Responsive (mobile, tablet, desktop) - Clear error messages - Loading indicators - Keyboard navigation - Basic accessibility NFR-4: Reliability - Graceful error handling - Database retry logic - User-friendly error messages USER JOURNEYS JOURNEY 1: New User Signup 1. Visit homepage 2. Click "Sign Up" 3. Enter name, email, password 4. Click "Create Account" 5. Auto-logged in ‚Üí Dashboard 6. See empty state 7. Click "Add Task" 8. Enter "Buy groceries" + description 9. Click "Create" 10. Task appears in list JOURNEY 2: Returning User 1. Visit homepage 2. Click "Login" 3. Enter email, password 4. Click "Sign In" 5. Redirected to dashboard 6. See existing tasks 7. Click checkbox ‚Üí Mark complete 8. Click "Edit" ‚Üí Update title 9. Click "Save" ‚Üí Updates 10. Click "Delete" ‚Üí Confirm ‚Üí Removed JOURNEY 3: Data Isolation 1. User A logs in, creates tasks 2. User A logs out 3. User B logs in 4. User B sees empty dashboard (not A's tasks) 5. User B creates own tasks 6. User B logs out 7. User A logs in 8. User A sees only their tasks ACCEPTANCE CRITERIA SUMMARY Phase II complete when: ‚úÖ User signup functional ‚úÖ User login with JWT ‚úÖ Create tasks ‚úÖ View all tasks ‚úÖ Update tasks ‚úÖ Delete tasks (with confirmation) ‚úÖ Mark complete/incomplete ‚úÖ User logout ‚úÖ Data saved to Neon PostgreSQL ‚úÖ Multi-user isolation working ‚úÖ Frontend deployed on Vercel ‚úÖ Backend deployed on cloud ‚úÖ Responsive UI ‚úÖ AI-generated code only ‚úÖ Demo video recorded EDGE CASES Edge Case 1: Empty Title - Show error: "Title is required" - Don't submit form Edge Case 2: Long Title - Title > 200 chars - Show error: "Title must be less than 200 characters" Edge Case 3: Network Failure - API fails - Show: "Network error. Please try again." - Provide retry button Edge Case 4: Expired Token - Token expired during use - API returns 401 - Clear token, redirect to login - Show: "Session expired. Please login again." Edge Case 5: Task Not Found - Delete already-deleted task - API returns 404 - Show: "Task not found." - Remove from UI Edge Case 6: Empty Task List - No tasks exist - Show: "No tasks yet. Create your first task!" - Show "Add Task" button OUT OF SCOPE (Phase II) Not included now: ‚ùå Task priorities ‚ùå Task tags/categories ‚ùå Search and filtering ‚ùå Due dates ‚ùå Recurring tasks ‚ùå Reminders ‚ùå AI chatbot ‚ùå Voice commands These come in Phase III, IV, V. DEPENDENCIES Required Services: 1. Neon (PostgreSQL) - Free tier 2. Vercel (Frontend) - Free tier 3. Railway/Render (Backend) - Free tier 4. Better Auth library Required Tools: 1. Spec-Kit Plus 2. Gemini CLI or Claude Code 3. Git + GitHub 4. Node.js 18+ 5. Python 3.11+ ASSUMPTIONS 1. Users have modern browsers 2. Users have internet 3. Valid email addresses 4. One user per email 5. Tasks belong to one user 6. English language only 7. Text-based tasks only CONSTRAINTS Development: - No manual coding - Spec-Kit Plus workflow - Individual work - Specified tech stack Technical: - JWT max 7 days - No localStorage - Next.js 16+ App Router - FastAPI backend - Neon PostgreSQL Business: - Free tier services - Deadline: Dec 14, 2025 - Demo max 90 seconds - Public GitHub repo SUCCESS METRICS Functional: - 100% CRUD operations working - 0 critical bugs - All user journeys complete - Authentication 100% functional Technical: - API < 500ms - Frontend < 3s load - 0 security issues - 100% spec coverage User Experience: - Task creation < 5 seconds - Login < 3 seconds - Clear error messages - Mobile responsive Project: - All specs before code - 0 manual code lines - Complete documentation - Demo < 90 seconds - On-time submission"
labels: ["spec", "multiuser-todo-app"]
links:
  spec: "specs/1-multiuser-todo-app/spec.md"
  ticket: "null"
  adr: "null"
  pr: "null"
files:
  - "specs/1-multiuser-todo-app/spec.md"
  - "specs/1-multiuser-todo-app/checklists/requirements.md"
tests:
  - ""
---

## Prompt

PHASE II SPECIFICATION - FULL-STACK TODO WEB APPLICATION PROJECT GOAL Transform Phase I console app into a multi-user web application with authentication, persistent storage, and responsive UI. USER ROLES 1. Unauthenticated User - Can signup and login 2. Authenticated User - Can manage personal tasks FUNCTIONAL REQUIREMENTS FR-1: USER AUTHENTICATION FR-1.1 User Signup User Story: As a new user, I can create an account to start managing my tasks. Acceptance Criteria: - Signup form with name, email, password fields - Email must be unique - Password minimum 8 characters - Success: Account created, user auto-logged in - Failure: Show validation errors FR-1.2 User Login User Story: As a returning user, I can login to access my tasks. Acceptance Criteria: - Login form with email and password - Success: JWT token issued, redirect to dashboard - Failure: Show "Invalid credentials" error - Token stored in React state (NOT localStorage) FR-1.3 User Logout User Story: As a logged-in user, I can logout to end my session. Acceptance Criteria: - Logout button visible on all pages - Click logout: token cleared, redirect to homepage - Cannot access protected pages after logout FR-2: TASK MANAGEMENT FR-2.1 Create Task User Story: As a user, I can create tasks to track things I need to do. Acceptance Criteria: - "Add Task" button/form on dashboard - Enter title (required, 1-200 chars) - Enter description (optional, max 1000 chars) - Click "Create": task appears in list - Task saved to database with user_id - Success message shown - Form clears after creation Validation: - Empty title shows error - Title > 200 chars shows error FR-2.2 View Tasks User Story: As a user, I can view all my tasks. Acceptance Criteria: - Dashboard shows all user's tasks - Display: title, description, status, date - Sorted by creation date (newest first) - Empty state: "No tasks yet. Create your first task!" - Only logged-in user's tasks visible FR-2.3 Update Task User Story: As a user, I can edit tasks to update details. Acceptance Criteria: - Click "Edit" on task - Form pre-filled with current data - Modify title and/or description - Click "Save": updates immediately - Updated in database - Success message shown FR-2.4 Delete Task User Story: As a user, I can delete tasks I no longer need. Acceptance Criteria: - Click "Delete" on task - Confirmation: "Are you sure?" - Confirm: task removed from list - Deleted from database - Success message shown FR-2.5 Mark Complete/Incomplete User Story: As a user, I can mark tasks done to track progress. Acceptance Criteria: - Checkbox/toggle on each task - Click: status toggles immediately - Visual change (strikethrough for completed) - Saved to database - No confirmation needed FR-3: DATA ISOLATION FR-3.1 User Privacy - User A cannot see User B's tasks - User A cannot modify User B's tasks - API returns 403 if unauthorized access - All queries filtered by user_id from token FR-3.2 Authentication Required - All task endpoints require valid JWT - Expired token returns 401 - User redirected to login on 401 NON-FUNCTIONAL REQUIREMENTS NFR-1: Performance - API response < 500ms - Frontend load < 3 seconds - No UI freezing NFR-2: Security - Passwords hashed - JWT expires in 7 days - HTTPS in production - No SQL injection - No XSS vulnerabilities NFR-3: Usability - Responsive (mobile, tablet, desktop) - Clear error messages - Loading indicators - Keyboard navigation - Basic accessibility NFR-4: Reliability - Graceful error handling - Database retry logic - User-friendly error messages USER JOURNEYS JOURNEY 1: New User Signup 1. Visit homepage 2. Click "Sign Up" 3. Enter name, email, password 4. Click "Create Account" 5. Auto-logged in ‚Üí Dashboard 6. See empty state 7. Click "Add Task" 8. Enter "Buy groceries" + description 9. Click "Create" 10. Task appears in list JOURNEY 2: Returning User 1. Visit homepage 2. Click "Login" 3. Enter email, password 4. Click "Sign In" 5. Redirected to dashboard 6. See existing tasks 7. Click checkbox ‚Üí Mark complete 8. Click "Edit" ‚Üí Update title 9. Click "Save" ‚Üí Updates 10. Click "Delete" ‚Üí Confirm ‚Üí Removed JOURNEY 3: Data Isolation 1. User A logs in, creates tasks 2. User A logs out 3. User B logs in 4. User B sees empty dashboard (not A's tasks) 5. User B creates own tasks 6. User B logs out 7. User A logs in 8. User A sees only their tasks ACCEPTANCE CRITERIA SUMMARY Phase II complete when: ‚úÖ User signup functional ‚úÖ User login with JWT ‚úÖ Create tasks ‚úÖ View all tasks ‚úÖ Update tasks ‚úÖ Delete tasks (with confirmation) ‚úÖ Mark complete/incomplete ‚úÖ User logout ‚úÖ Data saved to Neon PostgreSQL ‚úÖ Multi-user isolation working ‚úÖ Frontend deployed on Vercel ‚úÖ Backend deployed on cloud ‚úÖ Responsive UI ‚úÖ AI-generated code only ‚úÖ Demo video recorded EDGE CASES Edge Case 1: Empty Title - Show error: "Title is required" - Don't submit form Edge Case 2: Long Title - Title > 200 chars - Show error: "Title must be less than 200 characters" Edge Case 3: Network Failure - API fails - Show: "Network error. Please try again." - Provide retry button Edge Case 4: Expired Token - Token expired during use - API returns 401 - Clear token, redirect to login - Show: "Session expired. Please login again." Edge Case 5: Task Not Found - Delete already-deleted task - API returns 404 - Show: "Task not found." - Remove from UI Edge Case 6: Empty Task List - No tasks exist - Show: "No tasks yet. Create your first task!" - Show "Add Task" button OUT OF SCOPE (Phase II) Not included now: ‚ùå Task priorities ‚ùå Task tags/categories ‚ùå Search and filtering ‚ùå Due dates ‚ùå Recurring tasks ‚ùå Reminders ‚ùå AI chatbot ‚ùå Voice commands These come in Phase III, IV, V. DEPENDENCIES Required Services: 1. Neon (PostgreSQL) - Free tier 2. Vercel (Frontend) - Free tier 3. Railway/Render (Backend) - Free tier 4. Better Auth library Required Tools: 1. Spec-Kit Plus 2. Gemini CLI or Claude Code 3. Git + GitHub 4. Node.js 18+ 5. Python 3.11+ ASSUMPTIONS 1. Users have modern browsers 2. Users have internet 3. Valid email addresses 4. One user per email 5. Tasks belong to one user 6. English language only 7. Text-based tasks only CONSTRAINTS Development: - No manual coding - Spec-Kit Plus workflow - Individual work - Specified tech stack Technical: - JWT max 7 days - No localStorage - Next.js 16+ App Router - FastAPI backend - Neon PostgreSQL Business: - Free tier services - Deadline: Dec 14, 2025 - Demo max 90 seconds - Public GitHub repo SUCCESS METRICS Functional: - 100% CRUD operations working - 0 critical bugs - All user journeys complete - Authentication 100% functional Technical: - API < 500ms - Frontend < 3s load - 0 security issues - 100% spec coverage User Experience: - Task creation < 5 seconds - Login < 3 seconds - Clear error messages - Mobile responsive Project: - All specs before code - 0 manual code lines - Complete documentation - Demo < 90 seconds - On-time submission
"

## Response snapshot

The feature specification for "PHASE II SPECIFICATION - FULL-STACK TODO WEB APPLICATION" has been successfully created and validated.

**Branch Name:** `1-multiuser-todo-app`
**Specification File:** `specs/1-multiuser-todo-app/spec.md`
**Checklist Results:** All quality gates passed.

The specification is now ready for the next phase: planning (`/sp.plan`).

## Outcome

- ‚úÖ Impact: Created a comprehensive feature specification for the multi-user todo web application, including user scenarios, functional requirements, success criteria, and handling of edge cases, dependencies, assumptions, and constraints.
- üß™ Tests: No automated tests were run during spec creation, but a quality checklist was generated and all items passed validation.
- üìÅ Files: Created `specs/1-multiuser-todo-app/spec.md` and `specs/1-multiuser-todo-app/checklists/requirements.md`.
- üîÅ Next prompts: The feature is ready for planning (`/sp.plan`).
- üß† Reflection: Successfully processed a detailed feature description, generated a complete specification, and validated it against a quality checklist. The `create-new-feature.sh` script handled branch creation and initial file setup. The agent also handled `grep` not being available by parsing `git` output manually.

## Evaluation notes (flywheel)

- Failure modes observed: none
- Graders run and results (PASS/FAIL): none
- Prompt variant (if applicable): none
- Next experiment (smallest change to try): none